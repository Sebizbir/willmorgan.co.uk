!function(e){"function"==typeof define&&define.amd?define(e):window.Blazy=e()}(function(){function e(e){if(!document.querySelectorAll){var n=document.createStyleSheet();document.querySelectorAll=function(e,t,r,o,s){for(s=document.all,t=[],e=e.replace(/\[for\b/gi,"[htmlFor").split(","),r=e.length;r--;){for(n.addRule(e[r],"k:v"),o=s.length;o--;)s[o].currentStyle.k&&t.push(s[o]);n.removeRule(0)}return t}}A=!0,g=[],f=e||{},f.error=f.error||!1,f.offset=f.offset||100,f.success=f.success||!1,f.selector=f.selector||".b-lazy",f.separator=f.separator||"|",f.container=f.container?document.querySelectorAll(f.container):!1,f.errorClass=f.errorClass||"b-error",f.breakpoints=f.breakpoints||!1,f.successClass=f.successClass||"b-loaded",f.src=u=f.src||"data-src",v=1<window.devicePixelRatio,h=a(r,25),w=a(s,50),s(),l(f.breakpoints,function(e){return e.width>=window.screen.width?(u=e.src,!1):void 0}),t()}function t(){o(f.selector),A&&(A=!1,f.container&&l(f.container,function(e){c(e,"scroll",h)}),c(window,"resize",w),c(window,"resize",h),c(window,"scroll",h)),r()}function r(){for(var t=0;p>t;t++){var r=g[t],n=r.getBoundingClientRect(),o=m+f.offset;(0<=n.left&&n.right<=d+f.offset&&(0<=n.top&&n.top<=o||n.bottom<=o&&n.bottom>=0-f.offset)||-1!==(" "+r.className+" ").indexOf(" "+f.successClass+" "))&&(e.prototype.load(r),g.splice(t,1),p--,t--)}0===p&&e.prototype.destroy()}function n(e){if(0<e.offsetWidth&&0<e.offsetHeight){var t=e.getAttribute(u)||e.getAttribute(f.src);if(t){var t=t.split(f.separator),r=t[v&&1<t.length?1:0],t=new Image;l(f.breakpoints,function(t){e.removeAttribute(t.src)}),e.removeAttribute(f.src),t.onerror=function(){f.error&&f.error(e,"invalid"),e.className=e.className+" "+f.errorClass},t.onload=function(){"img"===e.nodeName.toLowerCase()?e.src=r:e.style.backgroundImage='url("'+r+'")',e.className=e.className+" "+f.successClass,f.success&&f.success(e)},t.src=r}else f.error&&f.error(e,"missing"),e.className=e.className+" "+f.errorClass}}function o(e){e=document.querySelectorAll(e);for(var t=p=e.length;t--;g.unshift(e[t]));}function s(){m=window.innerHeight||document.documentElement.clientHeight,d=window.innerWidth||document.documentElement.clientWidth}function c(e,t,r){e.attachEvent?e.attachEvent&&e.attachEvent("on"+t,r):e.addEventListener(t,r,!1)}function i(e,t,r){e.detachEvent?e.detachEvent&&e.detachEvent("on"+t,r):e.removeEventListener(t,r,!1)}function l(e,t){if(e&&t)for(var r=e.length,n=0;r>n&&!1!==t(e[n],n);n++);}function a(e,t){var r=0;return function(){var n=+new Date;t>n-r||(r=n,e.apply(g,arguments))}}var u,f,d,m,g,p,v,A,h,w;return e.prototype.revalidate=function(){t()},e.prototype.load=function(e){-1===(" "+e.className+" ").indexOf(" "+f.successClass+" ")&&n(e)},e.prototype.destroy=function(){f.container&&l(f.container,function(e){i(e,"scroll",h)}),i(window,"scroll",h),i(window,"resize",h),i(window,"resize",w),p=0,g.length=0,A=!0},e}),function(){var e={find:function(e,t){return t=t||document,[].slice.call(t.querySelectorAll(e))},findOne:function(t,r){var n=e.find(t,r);return n&&n[0]||null},closest:function(t,r){var n=r;do if(e.matches(t,n))return n;while((n=n.parentNode)&&n!=document)},matches:function(t,r){return"matches"in r?r.matches(t):e._oldMatches(r,t)},_oldMatches:function(e,t){for(var r=e.document||e.ownerDocument||document,n=r.querySelectorAll(t),o=0;n[o]&&n[o]!==e;)++o;return!!n[o]},delegate:function(t,r,n){var o,s=r.split(" ");if(s.length>1)for(o in s)e.delegate(t,s[o],n);else document.addEventListener(r,e._delegateListener(n,t))},_delegateListener:function(t,r){return function(n){var o=e.closest(r,n.target);o&&t(n,o)}}},t=function(t,r){var n=e.findOne("figure",r),o=e.closest(".js-portfolio-container",r),s=e.findOne(".js-portfolio-fullscreen",o),c=e.findOne(".js-portfolio-fullscreen-target",s);c.innerHTML=n.outerHTML,c.offsetHeight,o.classList.add("state-portfolio--fullscreen")},r=function(e,t){e.target==t&&n(e,t)},n=function(t,r){var n=e.closest(".js-portfolio-container",r);n.classList.remove("state-portfolio--fullscreen")};e.delegate(".js-trigger-portfolio-fullscreen","click",t),e.delegate(".state-portfolio--fullscreen .js-portfolio-fullscreen","click",r),e.delegate(".js-portfolio-close","click",n);var o,s,c,i=e.find(".portfolio__screens img");for(c in i)o=i[c],o.setAttribute("data-src",o.getAttribute("src")),o.removeAttribute("srcset"),o.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs=");var l=e.find(".ui-background-cover");for(c in l)s=l[c],s.setAttribute("data-src",s.style.backgroundImage);new Blazy({selector:".portfolio__screens img"})}();